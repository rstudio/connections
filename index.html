<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Enables DBI compliant packages to integrate with the RStudio connections 
  pane, and the pins package. It automates the display of schemata, tables, views, as well 
  as the preview of the table's top 1000 records. ">
<title>Integrates with the RStudio Connections Pane and pins • connections</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Lato-0.4.8/font.css" rel="stylesheet">
<link href="deps/Roboto_Mono-0.4.8/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Integrates with the RStudio Connections Pane and pins">
<meta property="og:description" content="Enables DBI compliant packages to integrate with the RStudio connections 
  pane, and the pins package. It automates the display of schemata, tables, views, as well 
  as the preview of the table's top 1000 records. ">
<meta property="og:image" content="https://rstudio.github.io/connections/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">connections</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rstudio/connections/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="connections">connections<a class="anchor" aria-label="anchor" href="#connections"></a>
</h1>
</div>
<!-- badges: start -->

<ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#functions">Functions</a></li>
<li><a href="#uploading-and-referencing-tables-with-dplyr">Uploading and referencing tables with <code>dplyr</code></a></li>
<li>
<a href="#pins"><code>pins</code></a>
<ul>
<li><a href="#pin-a-database-connection">Pin a database connection</a></li>
<li><a href="#pin-a-dplyr-database-query">Pin a <code>dplyr</code> database query</a></li>
<li><a href="#full-pins-example">Full <code>pins</code> example</a></li>
</ul>
</li>
<li>
<a href="#back-end-examples">Back-end examples</a>
<ul>
<li><a href="#bigquery-via-bigrquery">BigQuery, via <code>bigrquery</code></a></li>
<li><a href="#postgresql-via-rpostgres">PostgreSQL, via <code>RPostgres</code></a></li>
</ul>
</li>
<li><a href="#dbi-connections"><code>DBI</code> connections</a></li>
</ul>
<p>The main goal of <code>connections</code> is to integrate <code>DBI</code>-compliant packages with the RStudio IDE’s <a href="https://solutions.posit.co/connections/db/tooling/connections/" class="external-link">Connection Pane</a>. Packages such as <a href="https://github.com/r-dbi/RPostgres" class="external-link">RPostgres</a>, <a href="https://github.com/r-dbi/RSQLite" class="external-link">RSQLite</a>, <a href="https://github.com/r-dbi/RMariaDB" class="external-link">RMariaDB</a> and <a href="https://github.com/r-dbi/bigrquery" class="external-link">bigrquery</a> connect R to those databases, but do not provide a direct integration with the Connections Pane. <code>connections</code> reads the configuration of the connection and creates the integration with RStudio.</p>
<p>A second goal is to provide integration with the <a href="https://pins.rstudio.com/" class="external-link">pins</a> package. The <code>connections</code> package allows you to pin database connections and <a href="https://dplyr.tidyverse.org/" class="external-link">dplyr</a> table objects.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install the development version from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"rstudio/connections"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a>
</h2>
<p>The two main functions added by <code>connections</code> are:</p>
<ul>
<li>
<code><a href="reference/connection_open.html">connection_open()</a></code> - Opens the database connection. Use instead of <code><a href="https://dbi.r-dbi.org/reference/dbConnect.html" class="external-link">dbConnect()</a></code>, but use the exact same arguments. It also automatically starts the Connections pane.</li>
<li>
<code><a href="reference/connection_close.html">connection_close()</a></code> - Closes the database connection.</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/connections" class="external-link">connections</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rsqlite.r-dbi.org" class="external-link">RSQLite</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/connection_open.html">connection_open</a></span><span class="op">(</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"local.sqlite"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/connection-1.png" width="400px"><br></p>
<p>The connection can now be closed by using the appropriate button in the Connections pane, or by using <code><a href="reference/connection_close.html">connection_close()</a></code></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/connection_close.html">connection_close</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/connection-2.png" width="400px"><br></p>
<p>The connection code is parsed when connecting to the database, and it is visible once the connection is closed.</p>
</div>
<div class="section level2">
<h2 id="uploading-and-referencing-tables-with-dplyr">Uploading and referencing tables with <code>dplyr</code>
<a class="anchor" aria-label="anchor" href="#uploading-and-referencing-tables-with-dplyr"></a>
</h2>
<p><code>connections</code> integrates with <code>dplyr</code> by supporting the following two functions:</p>
<ul>
<li>
<code>tbl()</code> - To create a pointer to a table or view within the database.</li>
<li>
<code>copy_to()</code> - To copy data from the R session to the database.</li>
</ul>
<p>The version of <code>copy_to()</code> inside <code>connections</code> automatically updates the Connections pane, so the new table automatically shows up.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/connection_open.html">connection_open</a></span><span class="op">(</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"local.sqlite"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">copy_to</span><span class="op">(</span><span class="va">con</span>, <span class="va">mtcars</span>, temporary <span class="op">=</span> <span class="cn">FALSE</span>, overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; # Source:   table&lt;mtcars&gt; [?? x 11]</span></span>
<span><span class="co">#&gt; # Database: sqlite 3.41.2 [/Users/edgar/r_projects/connections/local.sqlite]</span></span>
<span><span class="co">#&gt;      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb</span></span>
<span><span class="co">#&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1  21       6  160    110  3.9   2.62  16.5     0     1     4     4</span></span>
<span><span class="co">#&gt;  2  21       6  160    110  3.9   2.88  17.0     0     1     4     4</span></span>
<span><span class="co">#&gt;  3  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1</span></span>
<span><span class="co">#&gt;  4  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1</span></span>
<span><span class="co">#&gt;  5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2</span></span>
<span><span class="co">#&gt;  6  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1</span></span>
<span><span class="co">#&gt;  7  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4</span></span>
<span><span class="co">#&gt;  8  24.4     4  147.    62  3.69  3.19  20       1     0     4     2</span></span>
<span><span class="co">#&gt;  9  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2</span></span>
<span><span class="co">#&gt; 10  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4</span></span>
<span><span class="co">#&gt; # ℹ more rows</span></span></code></pre></div>
<p>To use an existing table inside the database use <code>tbl()</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">db_mtcars</span> <span class="op">&lt;-</span> <span class="fu">tbl</span><span class="op">(</span><span class="va">con</span>, <span class="st">"mtcars"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/pane-1.png" width="400px"><br></p>
<p>The <code>tbl()</code> function opens the rest of the already available <code>dplyr</code> database integration.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">db_mtcars</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">am</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">summarise</span><span class="op">(</span>avg_mpg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">mpg</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; # Source:   SQL [2 x 2]</span></span>
<span><span class="co">#&gt; # Database: sqlite 3.41.2 [/Users/edgar/r_projects/connections/local.sqlite]</span></span>
<span><span class="co">#&gt;      am avg_mpg</span></span>
<span><span class="co">#&gt;   &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1     0    17.1</span></span>
<span><span class="co">#&gt; 2     1    24.4</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="pins">
<code>pins</code><a class="anchor" aria-label="anchor" href="#pins"></a>
</h2>
<p>The <code>connections</code> package integrates with <code>pins</code>. It adds the ability to “pin” database connections and queries. It follows the same approach as the <a href="https://rstudio.github.io/vetiver-r/reference/vetiver_pin_write.html" class="external-link">vetiver</a> package. <code>connections</code> now has two new functions:</p>
<ul>
<li><code><a href="reference/connection_pin_write.html">connection_pin_write()</a></code></li>
<li><code><a href="reference/connection_pin_read.html">connection_pin_read()</a></code></li>
</ul>
<div class="section level3">
<h3 id="pin-a-database-connection">Pin a database connection<a class="anchor" aria-label="anchor" href="#pin-a-database-connection"></a>
</h3>
<p>The <code><a href="reference/connection_pin_write.html">connection_pin_write()</a></code> function does <strong>not</strong> save the R object. It records the code necessary to recreate the connection.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pins.rstudio.com/" class="external-link">pins</a></span><span class="op">)</span></span>
<span><span class="va">board</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://pins.rstudio.com/reference/board_folder.html" class="external-link">board_folder</a></span><span class="op">(</span><span class="st">"~/pins"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/connection_pin_write.html">connection_pin_write</a></span><span class="op">(</span><span class="va">board</span>, <span class="va">con</span>, name <span class="op">=</span> <span class="st">"my_conn"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Creating new version '20231215T141203Z-8d9ce'</span></span>
<span><span class="co">#&gt; Writing to pin 'my_conn'</span></span></code></pre></div>
<p><img src="reference/figures/pins-1.png" width="400px"><br></p>
<p>If you wish to see the code that <code>connections</code> will use when recreating the conneciton from the pin, you can use <code><a href="reference/connection_code.html">connection_code()</a></code>:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/connection_code.html">connection_code</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></span>
<span><span class="co">#&gt; library(connections)</span></span>
<span><span class="co">#&gt; library(RSQLite)</span></span>
<span><span class="co">#&gt; con &lt;- connection_open(SQLite(), "local.sqlite")</span></span></code></pre></div>
<p><code><a href="reference/connection_pin_read.html">connection_pin_read()</a></code> will replay the exact same code used to initially connect to the database. Assign the output to a variable, such as <code>con1</code>. The variable will work just like any connection variable.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">con1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/connection_pin_read.html">connection_pin_read</a></span><span class="op">(</span><span class="va">board</span>, <span class="st">"my_conn"</span><span class="op">)</span></span></code></pre></div>
<p>The <code>con1</code> variable is now a regular database connection variable.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">db_mtcars</span> <span class="op">&lt;-</span> <span class="fu">tbl</span><span class="op">(</span><span class="va">con1</span>, <span class="st">"mtcars"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">am</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">summarise</span><span class="op">(</span>avg_mpg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">mpg</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">db_mtcars</span></span>
<span><span class="co">#&gt; # Source:   SQL [2 x 2]</span></span>
<span><span class="co">#&gt; # Database: sqlite 3.41.2 [/Users/edgar/r_projects/connections/local.sqlite]</span></span>
<span><span class="co">#&gt;      am avg_mpg</span></span>
<span><span class="co">#&gt;   &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1     0    17.1</span></span>
<span><span class="co">#&gt; 2     1    24.4</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="pin-a-dplyr-database-query">Pin a <code>dplyr</code> database query<a class="anchor" aria-label="anchor" href="#pin-a-dplyr-database-query"></a>
</h3>
<p>When <code>dplyr</code> works with database data, the resulting query is not executed until the data is explicitly collected into R, or when printing the top results to the R Console. The <code>pin</code> records two things:</p>
<ul>
<li><p>The <code>dplyr</code> R object that contains all of the transformations. <strong>It does not save the actual results</strong>.</p></li>
<li><p>The necessary information to recreate the database connection. This is to make sure that the data is being retrieved from the original database connection.</p></li>
</ul>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/connection_pin_write.html">connection_pin_write</a></span><span class="op">(</span><span class="va">board</span>, <span class="va">db_mtcars</span>, name <span class="op">=</span> <span class="st">"avg_mpg"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Creating new version '20231215T141203Z-41590'</span></span>
<span><span class="co">#&gt; Writing to pin 'avg_mpg'</span></span></code></pre></div>
<p><img src="reference/figures/pins-2.png" width="400px"><br></p>
<p><code><a href="reference/connection_pin_read.html">connection_pin_read()</a></code> will connect to the database, and return the <code>dplyr</code> object. Without assigning it to a variable, the pin will immediately print the results of the database. Those results are being processed at the time <code><a href="reference/connection_pin_read.html">connection_pin_read()</a></code> runs.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/connection_pin_read.html">connection_pin_read</a></span><span class="op">(</span><span class="va">board</span>, <span class="st">"avg_mpg"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # Source:   SQL [2 x 2]</span></span>
<span><span class="co">#&gt; # Database: sqlite 3.41.2 [/Users/edgar/r_projects/connections/local.sqlite]</span></span>
<span><span class="co">#&gt;      am avg_mpg</span></span>
<span><span class="co">#&gt;   &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1     0    17.1</span></span>
<span><span class="co">#&gt; 2     1    24.4</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="full-pins-example">Full <code>pins</code> example<a class="anchor" aria-label="anchor" href="#full-pins-example"></a>
</h3>
<p>The way <code>pins</code> integrates with databases, via the <code>connections</code> package, allows to open the connection from a pin, and pipe all of the subsequent code into a new pin. Afterwards, that pin can be used to collect or to continue using the <code>dplyr</code> object.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">board</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://pins.rstudio.com/reference/board_folder.html" class="external-link">board_folder</a></span><span class="op">(</span><span class="st">"~/pins"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/connection_pin_read.html">connection_pin_read</a></span><span class="op">(</span><span class="va">board</span>, <span class="st">"my_conn"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tbl_summary</span> <span class="op">&lt;-</span> <span class="va">con</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">tbl</span><span class="op">(</span><span class="st">"mtcars"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">summarise</span><span class="op">(</span>avg_mpg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">mpg</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="reference/connection_pin_write.html">connection_pin_write</a></span><span class="op">(</span><span class="va">board</span>, <span class="va">tbl_summary</span>, name <span class="op">=</span> <span class="st">"cyl_mpg"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Creating new version '20231215T141203Z-59396'</span></span>
<span><span class="co">#&gt; Writing to pin 'cyl_mpg'</span></span>
<span></span>
<span><span class="fu"><a href="reference/connection_close.html">connection_close</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/connection_pin_read.html">connection_pin_read</a></span><span class="op">(</span><span class="va">board</span>, <span class="st">"cyl_mpg"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # Source:   SQL [3 x 2]</span></span>
<span><span class="co">#&gt; # Database: sqlite 3.41.2 [/Users/edgar/r_projects/connections/local.sqlite]</span></span>
<span><span class="co">#&gt;     cyl avg_mpg</span></span>
<span><span class="co">#&gt;   &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1     4    26.7</span></span>
<span><span class="co">#&gt; 2     6    19.7</span></span>
<span><span class="co">#&gt; 3     8    15.1</span></span></code></pre></div>
<p><img src="reference/figures/pins-3.png" width="400px"><br></p>
</div>
</div>
<div class="section level2">
<h2 id="back-end-examples">Back-end examples<a class="anchor" aria-label="anchor" href="#back-end-examples"></a>
</h2>
<p>There are a couple of examples of how the Connections pane will look when opening the connection via <code>connections</code>.</p>
<div class="section level3">
<h3 id="bigquery-via-bigrquery">BigQuery, via <code>bigrquery</code>
<a class="anchor" aria-label="anchor" href="#bigquery-via-bigrquery"></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/connections" class="external-link">connections</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bigrquery.r-dbi.org" class="external-link">bigrquery</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/connection_open.html">connection_open</a></span><span class="op">(</span></span>
<span>  <span class="fu">bigquery</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  project <span class="op">=</span> <span class="st">"bigquery-public-data"</span>,</span>
<span>  dataset <span class="op">=</span> <span class="st">"austin_311"</span>,</span>
<span>  billing <span class="op">=</span> <span class="st">"my_project_billing"</span>,</span>
<span>  use_legacy_sql <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/bigquery-1.png" width="400px"><br></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/connection_close.html">connection_close</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/bigquery-2.png" width="400px"><br></p>
</div>
<div class="section level3">
<h3 id="postgresql-via-rpostgres">PostgreSQL, via <code>RPostgres</code>
<a class="anchor" aria-label="anchor" href="#postgresql-via-rpostgres"></a>
</h3>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/connections" class="external-link">connections</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rpostgres.r-dbi.org" class="external-link">RPostgres</a></span><span class="op">)</span></span>
<span><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/connection_open.html">connection_open</a></span><span class="op">(</span></span>
<span>  <span class="fu">Postgres</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  host <span class="op">=</span> <span class="st">"localhost"</span>,</span>
<span>  dbname <span class="op">=</span> <span class="st">"datawarehouse"</span>,</span>
<span>  user <span class="op">=</span> <span class="st">"[user id]"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"[password]"</span>,</span>
<span>  bigint <span class="op">=</span> <span class="st">"integer"</span>,</span>
<span>  port <span class="op">=</span> <span class="st">"5432"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/postgres-1.png" width="400px"><br></p>
</div>
</div>
<div class="section level2">
<h2 id="dbi-connections">
<code>DBI</code> connections<a class="anchor" aria-label="anchor" href="#dbi-connections"></a>
</h2>
<p>It is possible to integrate <code>DBI</code> connections not opened via <code><a href="reference/connection_open.html">connection_open()</a></code>. To do that, use <code><a href="reference/connection_view.html">connection_view()</a></code> and pass it the variable containing the existing database connection.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dbi.r-dbi.org" class="external-link">DBI</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dbi.r-dbi.org/reference/dbConnect.html" class="external-link">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/connection_view.html">connection_view</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/dbi-1.png" width="200px"><br></p>
<p>Changes to the database will not automatically load in the Connections pane. The <code><a href="reference/connection_update.html">connection_update()</a></code> function will refresh the pane with the latest.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbWriteTable.html" class="external-link">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"mtcars"</span>, <span class="va">mtcars</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/connection_update.html">connection_update</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/dbi-2.png" width="300px"><br></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/connection_close.html">connection_close</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/dbi-3.png" width="300px"><br></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=connections" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/rstudio/connections/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/rstudio/connections/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing connections</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Edgar Ruiz <br><small class="roles"> Author, maintainer </small>  </li>
<li>Posit Software, PBC <br><small class="roles"> Copyright holder, funder </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://github.com/rstudio/connections/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/rstudio/connections/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/rstudio/connections?branch=main" class="external-link"><img src="https://codecov.io/gh/rstudio/connections/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Edgar Ruiz, Posit Software, PBC.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
